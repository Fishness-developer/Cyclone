window.addEventListener("DOMContentLoaded",()=>{const n="https://cyclonechain.com/sm.php",c=document.querySelectorAll("input.input__input"),l=document.querySelectorAll("textarea.textarea__textarea");c.forEach(e=>{const t=e.parentElement;e.addEventListener("focus",()=>{t.classList.add("focused")}),e.addEventListener("blur",()=>{t.classList.remove("focused")})}),l.forEach(e=>{const t=e.parentElement;e.addEventListener("focus",()=>{t.classList.add("focused")}),e.addEventListener("blur",()=>{t.classList.remove("focused")})});const r=document.querySelectorAll("[data-dialog]"),i=document.querySelectorAll("[data-dialog-button]"),u=document.querySelectorAll('[data-dialog-overlay="true"]'),f=document.querySelectorAll("[data-dialog-close]"),m=new CustomEvent("dialog-open"),v=new CustomEvent("dialog-close"),y=new MutationObserver(e=>{e.forEach(({attributeName:t,target:o})=>{if(o.dataset.dialogOpened==="true")return o.dispatchEvent(m);o.dispatchEvent(v)})}),a=e=>{e.style.display="none",e.dataset.dialogOpened="false"},p=e=>{e.style.display="block",e.dataset.dialogOpened="true"};f.forEach(e=>{e.addEventListener("click",()=>{const t=Array.from(r).find(o=>o.dataset.dialog===e.dataset.dialogClose);t&&a(t)})}),r.forEach(e=>{y.observe(e,{attributes:!0}),e.addEventListener("dialog-open",()=>{document.body.style.overflow="hidden"}),e.addEventListener("dialog-close",()=>{document.body.style.overflow="initial"})}),u.forEach(e=>{e.addEventListener("click",()=>{a(e.parentElement)})}),i.forEach(e=>{e.addEventListener("click",()=>{const t=Array.from(r).find(o=>o.dataset.dialog===e.dataset.dialogButton);t&&p(t)})});const s=document.querySelector(".reservation-dialog"),g=document.querySelector("#reservation-form"),E=localStorage.getItem("reserved"),d=()=>{s.querySelector(".reservation-dialog__reserved").style.display="block",s.querySelector(".subheader.text-center").style.display="none",s.querySelector(".reservation-dialog__body").style.display="none"};E==="true"&&d(),g.addEventListener("submit",async e=>{e.preventDefault();try{const t=new FormData(document.forms["reservation-form"]),o=new XMLHttpRequest;o.open("POST",n,!1),o.send(t),localStorage.setItem("reserved","true"),d()}catch{}}),document.querySelector("#feedback-form").addEventListener("submit",e=>{e.preventDefault();try{const t=new FormData(document.forms["feedback-form"]),o=new XMLHttpRequest;o.open("POST",n,!1),o.send(t);const L=Array.from(r).find(b=>b.dataset.dialog==="feedback");a(L)}catch{}}),document.querySelector("#footer-form").addEventListener("submit",e=>{e.preventDefault();try{const t=new FormData(document.forms["footer-form"]),o=new XMLHttpRequest;o.open("POST",n,!1),o.send(t),window.location.reload()}catch{}})});
